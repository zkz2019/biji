{"ast":null,"code":"import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport mySaga from \"./mySaga\";\nconst initalUserInfo = {\n  isLogin: false,\n  user: {\n    name: null\n  }\n}; // 定义修改规则 登录\n\nfunction loginReducer(state = { ...initalUserInfo\n}, action) {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return {\n        isLogin: true,\n        user: {\n          name: \"xiaoming\"\n        }\n      };\n\n    case \"LOGOUT_FAILURE\":\n    case \"LOGOUT_SUCCESS\":\n      return {\n        isLogin: false,\n        user: {\n          name: null\n        }\n      };\n\n    default:\n      return state;\n  }\n} // 创建\n\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(combineReducers({\n  user: loginReducer\n}), applyMiddleware(sagaMiddleware)); // 运行\n\nsagaMiddleware.run(mySaga);\nexport default store;","map":{"version":3,"sources":["E:/alianxi/lesson5-pre/src/store/index.js"],"names":["createStore","combineReducers","applyMiddleware","createSagaMiddleware","mySaga","initalUserInfo","isLogin","user","name","loginReducer","state","action","type","sagaMiddleware","store","run"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,eAArB,EAAsCC,eAAtC,QAA4D,OAA5D;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAMC,cAAc,GAAG;AACrBC,EAAAA,OAAO,EAAE,KADY;AAErBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE;AADF;AAFe,CAAvB,C,CAOA;;AACA,SAASC,YAAT,CAAsBC,KAAK,GAAG,EAAC,GAAGL;AAAJ,CAA9B,EAAmDM,MAAnD,EAA2D;AACzD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,eAAL;AACE,aAAO;AACLN,QAAAA,OAAO,EAAE,IADJ;AAELC,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAE;AADF;AAFD,OAAP;;AAMF,SAAK,gBAAL;AACA,SAAK,gBAAL;AACE,aAAO;AACLF,QAAAA,OAAO,EAAE,KADJ;AAELC,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAE;AADF;AAFD,OAAP;;AAOF;AACE,aAAOE,KAAP;AAlBJ;AAoBD,C,CAED;;;AACA,MAAMG,cAAc,GAAGV,oBAAoB,EAA3C;AAEA,MAAMW,KAAK,GAAGd,WAAW,CACvBC,eAAe,CAAC;AAACM,EAAAA,IAAI,EAAEE;AAAP,CAAD,CADQ,EAEvBP,eAAe,CAACW,cAAD,CAFQ,CAAzB,C,CAKA;;AACAA,cAAc,CAACE,GAAf,CAAmBX,MAAnB;AAEA,eAAeU,KAAf","sourcesContent":["import {createStore, combineReducers, applyMiddleware} from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport mySaga from \"./mySaga\";\n\nconst initalUserInfo = {\n  isLogin: false,\n  user: {\n    name: null\n  }\n};\n\n// 定义修改规则 登录\nfunction loginReducer(state = {...initalUserInfo}, action) {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return {\n        isLogin: true,\n        user: {\n          name: \"xiaoming\"\n        }\n      };\n    case \"LOGOUT_FAILURE\":\n    case \"LOGOUT_SUCCESS\":\n      return {\n        isLogin: false,\n        user: {\n          name: null\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n\n// 创建\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n  combineReducers({user: loginReducer}),\n  applyMiddleware(sagaMiddleware)\n);\n\n// 运行\nsagaMiddleware.run(mySaga);\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}