<!-- 门禁信息 -->
<template>
  <el-dialog
    title="配置详情"
    width="60%"
    :close-on-click-modal="false"
    :before-close="beforeClose"
    :visible.sync="dialogVisible"
  >
    <form-table
      v-loading="loading"
      thwidth="17%"
      tdwidth="33%"
      :column="2"
      :param="defaultData"
      :list="formData"
    ></form-table>
  </el-dialog>
</template>

<script>
export default {
  props: {
    param: Object,
    dialogVisible: Boolean
  },
  data() {
    return {
      loading: false,
      defaultData: {},
      formData: [
        {
          value: "person",
          name: "管理责任人"
        },
        {
          value: "personmobile",
          name: "联系方式"
        },
        // {
        //   value: "",
        //   name: "读头类型"
        // },
        // {
        //   value: "",
        //   name: "读头软件版本号"
        // },
        // {
        //   value: "",
        //   name: "读头通讯方式"
        // },
        // {
        //   value: "",
        //   name: "门禁主控板唯一ID"
        // },
        {
          value: "accessname",
          name: "门禁主控板名称"
        },
        {
          value: "accessmodel",
          name: "门禁主控板型号"
        },
        {
          value: "accessver",
          name: "主控板软件版本号"
        },
        {
          value: "authtype",
          name: "支持授权类型"
        },
        {
          value: "contacttype",
          name: "门锁类型"
        },
        {
          value: "accesstxtype",
          name: "门锁通讯类型"
        },
        {
          value: "synctype",
          name: "同步模式"
        },
        {
          value: "accessstate",
          name: "通讯状态"
        },
        {
          value: "workmode",
          name: "工作模式"
        },
        {
          value: "isopen",
          name: "开关门状态"
        },
        {
          value: "forcelock",
          name: "强制锁门控制"
        },
        {
          value: "specialcard",
          name: "支持特殊卡片"
        },
        {
          value: "mcardtype",
          name: "管理卡开门方式"
        },
        {
          value: "iswarnstatus",
          name: "拆机报警"
        },
        {
          value: "issyso",
          name: "调试信息"
        },
        {
          value: "authcard",
          name: "卡片授权"
        },
        {
          value: "authpass",
          name: "密码授权"
        },
        {
          value: "authfinger",
          name: "指纹授权"
        },
        {
          value: "lastactivedate",
          name: "最后通讯时间"
        },
        {
          value: "mjcode",
          name: "通讯Id"
        },
        {
          value: "gatewaycode",
          name: "归属网关"
        },
        {
          value: "channelid",
          name: "信道ID"
        },
        {
          value: "channel",
          name: "信道"
        },
        {
          value: "powerlev",
          name: "功率等级"
        }
      ]
    };
  },
  watch: {
    dialogVisible(val) {
      if (val) {
        this.inGetupdategatewayinfo();
      }
    }
  },
  methods: {
    inGetupdategatewayinfo() {
      if (true) {
        this.loading = true;
        this.$ajax("/access/info/1/getaccessdetails", {}, "1", this.param)
          .then(res => {
            this.defaultData = res.result;
            this.loading = false;
          })
          .catch(err => {
            this.loading = false;
            console.log("err", err);
          });
      }
    },
    beforeClose() {
      this.defaultData = {};
      this.$emit("beforeClose");
    }
  }
};
</script>

<style>
</style>
