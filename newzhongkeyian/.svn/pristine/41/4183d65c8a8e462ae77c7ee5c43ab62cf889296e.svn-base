<!-- 账户管理 -->
<template>
  <el-dialog
    class="Participants"
    title="与会人员信息"
    :visible.sync="dialogVisible"
    width="70%"
    :before-close="handleClose"
    append-to-body
  >
    <el-container class="Par_con">
        <paging-table
          height="100%"
          interface="/lock/operate/publicroom/2/getotherpersons"
          class="heig100"
          @onSelection="onSelection"
          :list="list"
          :refresh="refresh"
          :param="param"
        >
        <span class="sli">
            <el-select  class="maR10 wid150" v-model="param.type" placeholder="请选择" size="mini" clearable>
              <el-option
                v-for="item in options"
                :key="item.type"
                :label="item.label"
                :value="item.type"
              ></el-option>
            </el-select>
            </span>
             <span class="sli">
            <el-input
              clearable
              class="search"
              v-model="param.search"
              :placeholder="'输入姓名/进行检索'"
            ></el-input>
            <el-button type="primary" @click="onRefresh">确定</el-button>
            </span>
        </paging-table>
    </el-container>
  </el-dialog>
</template>

<script>
export default {
  name: "history",
  components: {},
  props: {
    dialogVisible: Boolean,
    rrid: String
  },
  data() {
    let $this = this;
    return {
      options: [
        {
          label: "备用开门人员",
          type: 1
        },
        {
          label: "与会人员",
          type: 2
        }
      ],
      value: "",
      refresh: 0,
      param: {
        rrid: "",
        type: 1
      },
      list: [
        {
          name: "学/工号",
          prop: "personcode"
        },
        {
          name: "组织",
          prop: "personlocation"
        },
        {
          name: "电话",
          prop: "personmobile"
        },
        {
          name: "姓名",
          prop: "personname"
        }
      ]
    };
  },
  watch: {
    roomid() {},
    rrid(val) {
      this.param.rrid = val;
    }
  },
  methods: {
    handleClose(done) {
      this.$emit("Close");
    },
    onRefresh() {
      //刷新表格
      this.refresh = new Date().getTime();
    },
    onSelection(data) {}
  }
};
</script>

<style lang="scss">
.Participants {
  .el-dialog {
    height: 70%;
  }
  .el-dialog__body {
    height: 88%;
    .Par_con {
      height: 100%;
    }
  }
}
</style>

