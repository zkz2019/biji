<!--  房间详情  -->
<template>
  <div :key="key" class="roomDetails">
    <!-- <el-button @click="to">跳转</el-button> -->
    <form-table thwidth="10%" tdwidth="40%" :column="2" :param="defaultData" :list="tableData"></form-table>
  </div>
</template>

<script>
import adminLeft from "./admin-left";
import inpbox from "./../../common/inpbox";
export default {
  props: {
    checkedroom: Object
  },
  components: {
    inpbox,
    adminLeft
  },
  data() {
    return {
      key: 0,
      defaultData: {},
      tableData: [
        {
          name: "房间位置",
          value: "roomlocation"
        },
        {
          name: "唯一ID",
          value: "roomcode2"
        },
        {
          name: "通讯方式",
          value: "roomtx"
        },
        {
          name: "支持授权类型",
          value: "roomsq"
        },
        {
          name: "门锁型号",
          value: "roommodel"
        },
        {
          name: "软件版本号",
          value: "lockver"
        },
        {
          name: "电量",
          value: "roomcharge"
        },
        {
          name: "电源类型",
          value: "roompowertype"
        },
        {
          name: "通讯状态",
          value: "roomnetquality"
        },
        {
          name: "调试信息",
          value: "roomissyso"
        },
        {
          name: "开关门状态",
          value: "roomstatus"
        },
        {
          name: "强制锁门控制",
          value: "roomforcelock"
        },
        {
          name: "支持特殊卡片",
          value: "roomspecial"
        },
        ,
        {
          name: "拆机报警",
          value: "roomwarnstatus"
        },
        {
          name: "卡片授权",
          value: "roomcard"
        },
        {
          name: "密码授权",
          value: "roompass"
        },
        {
          name: "指纹授权",
          value: "roomfinger"
        },
        {
          name: "工作模式",
          value: "roomworkmode"
        },
        {
          name: "最后通讯时间",
          value: "lastactivedate"
        },
        {
          type: 1, //type=1 sub1G专用
          name: "通讯ID",
          value: "roomcode",
          noShow: false
        },
        {
          type: 1,
          name: "归属网关",
          value: "gatewaycode",
          noShow: false
        },
        { type: 1, name: "信道ID", value: "channelid", noShow: false },
        { type: 1, name: "信道", value: "channel", noShow: false },
        { type: 1, name: "功率等级", value: "powerlev", noShow: false },
        {
          type: 2, //type=2 NB专用
          name: "IMEI",
          value: "roomimei",
          noShow: true
        },
        { type: 2, name: "IMSI", value: "roomimsi", noShow: true },
        { type: 2, name: "平台类型", value: "roomtxtype", noShow: true },
        { type: 2, name: "CSQ,信号强度", value: "roomsignal", noShow: true },
        { type: 2, name: "信号覆盖等级", value: "roomecl", noShow: true },
        { type: 2, name: "信噪比", value: "roomsnr", noShow: true },
        { type: 2, name: "小区ID", value: "roomcellid", noShow: true },
        { type: 2, name: "卡片防复制", value: "roomanticopy", noShow: true },
        // { type: 2, name: "心跳模式", value: "roomhearttype", noShow: true },
        { type: 2, name: "心跳频率", value: "spacetime", noShow: true },
        { type: 3, name: "归属网关", value: "gatewaycode", noShow: true },
        { type: 3, name: "波特率", value: "roombautrate", noShow: true }
      ]
    };
  },
  mounted() {},
  computed: {
    //noShow
    roomid() {
      return this.$store.state.fj38.checkedroom.roomid + "";
    }
  },
  destroyed() {
    console.log("销毁");
  },
  created() {
    this.$ajax(
      "/lock/operate/info/6/getroominfo",
      { roomid: this.checkedroom.roomid },
      "1"
    ).then(res => {
      this.defaultData = res.result;
      if (this.defaultData.locktype === "1") {
        this.tableData.forEach(obj => {
          if (obj.type == 1) {
            obj.noShow = false;
          } else if (obj.type == 2 || obj.type == 3) {
            obj.noShow = true;
          }
        });
      } else if (this.defaultData.locktype === "2") {
        this.tableData.forEach(obj => {
          if (obj.type == 2) {
            obj.noShow = false;
          } else if (obj.type == 1 || obj.type == 3) {
            obj.noShow = true;
          }
        });
      } else if (this.defaultData.locktype === "3") {
        this.tableData.forEach(obj => {
          if (obj.type == 3) {
            obj.noShow = false;
          } else if (obj.type == 2 || obj.type == 1) {
            obj.noShow = true;
          }
        });
      }
    });
  },
  methods: {
    to() {
      let str = "";
      if (this.defaultData.locktype == "1") {
        str = "无线联网锁";
      } else if (this.defaultData.locktype == "2") {
        str = "NBIOT锁";
      } else if (this.defaultData.locktype == "3") {
        str = "有线联网锁";
      }
      this.$router.push({
        name: "设备管理",
        params: { name: str, roomcode2: this.defaultData.roomcode2 }
      });
      this.$emit("Close");
    },
    Determine() {}
  }
};
</script>
