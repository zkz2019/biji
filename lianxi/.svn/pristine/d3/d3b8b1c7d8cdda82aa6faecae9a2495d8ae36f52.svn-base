<template>
  <el-dialog
    title="配置"
    width="30%"
    top="30vh"
    :close-on-click-modal="false"
    :before-close="beforeClose"
    :visible.sync="dialogVisible"
  >
    <div class="msdlxspzConfig">
      <div>
        <span>电量范围:</span>
        <z-sel-num @onChange="onChange"></z-sel-num>
      </div>
      <div>
        <span>自定义电量:</span>
        <el-select class="configInp" size="small" v-model="form.custom" placeholder="请选择">
          <template v-for="item in loadAll">
            <el-option :key="item.id" :label="item.label" :value="item.id"></el-option>
          </template>
        </el-select>
      </div>
      <div class="configBtn">
        <el-button size="small" @click="beforeClose">取消</el-button>
        <el-button size="small" @click="onSubmit" type="primary">确定</el-button>
      </div>
    </div>
  </el-dialog>
</template>

<script>
import zSelNum from "./z-sel-num";
export default {
  props: {
    dialogVisible: Boolean,
    paramObj: Object,
  },
  components: {
    zSelNum,
  },
  data() {
    let $this = this;
    return {
      loadAll: [
        { label: "10%", id: "1" },
        { label: "20%", id: "2" },
        { label: "30%", id: "3" },
      ],
      form: {
        range: "",
        custom: "",
      },
    };
  },
  watch: {},
  methods: {
    onChange(arr) {
      this.form.range = arr;
    },
    onSubmit() {
      console.log("this.form", this.form);
    },
    beforeClose() {
      this.$emit("beforeClose");
    },
  },
};
</script>

<style lang="scss">
.msdlxspzConfig {
  > div {
    margin: 30px;
    > span {
      display: inline-block;
      width: 90px;
    }
  }
  .configInp {
    width: 240px;
  }
  .configBtn {
    text-align: right;
    padding-right: 42px;
    margin: 35px 10px 10px;
  }
}
</style>
